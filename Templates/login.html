{% extends 'base.html' %}

{% block title %}<title>Login - VocabuLearner</title>{% endblock %}

{% block content %}
    {% block header %}{% endblock %}
    <div class="login-container active">
        <h1>Login</h1>
        <p>Welcome back, Trainer! Continue your vocabulary journey.</p>
        
        <!-- ADD THIS SECTION -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div style="background: #f8d7da; color: #721c24; padding: 10px; border-radius: 5px; margin-bottom: 15px; text-align: center;">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <form class="login-form" method="POST">
            {{ form.hidden_tag() }}

            <!-- Email field -->
            {{ form.email }}
            {% for error in form.email.errors %}
                <span class="error">{{ error }}</span>
            {% endfor %}

            <!-- Password field -->
            {{ form.password }}
            {% for error in form.password.errors %}
                <span class="error">{{ error }}</span>
            {% endfor %}

            <!-- Submit button -->
            {{ form.submit }}

            <!-- Signup Button -->
            <a href="{{ url_for('signup') }}" class="btn-secondary">Sign Up</a>

            <!-- Forgot Password link -->
            <a href="{{ url_for('forgotpass') }}" class="forgot-password" id="forgot-password-link">Forgot Password?</a>
        </form>
    </div>

    <footer class="footer">
        <p>Â© 2025 VocabuLearner</p>
    </footer>
{% endblock %}